<%# NavigationMenu Component - Root container for navigation menu %>
<%#
  @example Basic usage
    render "ui/navigation_menu/navigation_menu" do
      render "ui/navigation_menu/list" do
        render "ui/navigation_menu/item" do
          render "ui/navigation_menu/trigger" { "Products" }
          render "ui/navigation_menu/content" do
            render "ui/navigation_menu/link", href: "/docs" { "Docs" }
          end
        end
      end
    end
%>
<%
  @viewport = local_assigns.fetch(:viewport, true)
  @delay_duration = local_assigns.fetch(:delay_duration, 200)
  @skip_delay_duration = local_assigns.fetch(:skip_delay_duration, 300)
  @classes = local_assigns.fetch(:classes, "")
  @attributes = local_assigns.fetch(:attributes, {})

  # Add id if provided
  @attributes[:id] = local_assigns[:id] if local_assigns.key?(:id)

  extend UI::NavigationMenu::NavigationMenuBehavior

  all_attributes = navigation_menu_html_attributes.deep_merge(@attributes)
-%>
<%= content_tag :nav, all_attributes do %>
  <%= yield %>
  <% if @viewport %>
    <%= render "ui/navigation_menu/viewport" %>
  <% end %>
<% end %>
