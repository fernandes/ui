<%# Dialog Trigger Component - Opens dialog on click %>
<%
  content ||= local_assigns.fetch(:content, nil)
  @as_child = local_assigns.fetch(:as_child, false)
  @attributes = local_assigns.fetch(:attributes, {})

  # Build trigger attributes
  trigger_attrs = {
    data: { action: "click->ui--dialog#open" }
  }.deep_merge(@attributes)
-%>
<% if @as_child %>
  <%# asChild pattern: yield attributes to block %>
  <%= yield(trigger_attrs) if block_given? %>
  <%= content&.call(trigger_attrs) %>
<% else %>
  <%# Default: render as button %>
  <%= content_tag :button, trigger_attrs do %>
    <%= content || yield %>
  <% end %>
<% end %>
