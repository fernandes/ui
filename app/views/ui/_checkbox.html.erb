<%
  # Checkbox Component - Styled checkbox input
  #
  # @param name [String] The name attribute for the checkbox
  # @param id [String] The id attribute (auto-generated if not provided)
  # @param value [String] The value attribute
  # @param checked [Boolean] Whether the checkbox is checked
  # @param disabled [Boolean] Whether the checkbox is disabled
  # @param required [Boolean] Whether the checkbox is required
  # @param classes [String] Additional CSS classes to merge
  # @param attributes [Hash] Additional HTML attributes

  @classes = local_assigns.fetch(:classes, "")
  @attributes = local_assigns.fetch(:attributes, {})
  @disabled = local_assigns.fetch(:disabled, false)
  @value = local_assigns.fetch(:value, nil)
  @checked = local_assigns.fetch(:checked, false)
  @name = local_assigns.fetch(:name, nil)
  @id = local_assigns.fetch(:id, nil)
  @required = local_assigns.fetch(:required, false)

  # Extend behavior for shared logic
  extend UI::CheckboxBehavior

  # Get HTML attributes from behavior
  input_attributes = checkbox_html_attributes
-%>
<div class="relative inline-flex items-center justify-center">
  <%= tag :input, input_attributes %>
  <%# Checkmark icon - shown when checked %>
  <%= lucide_icon("check", class: "size-3.5 pointer-events-none absolute text-primary-foreground opacity-0 peer-checked:opacity-100 transition-opacity") %>
</div>
