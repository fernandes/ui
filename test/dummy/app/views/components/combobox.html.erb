<div class="container mx-auto max-w-4xl space-y-12 py-12">
  <div class="space-y-4">
    <h1 class="text-4xl font-bold">Combobox</h1>
    <p class="text-lg text-muted-foreground">
      Autocomplete input and command palette composition. Combines Popover, Command, and Button components for searchable selection.
    </p>
    <div class="rounded-lg bg-muted/50 p-4">
      <p class="text-sm">
        <strong>Note:</strong> Combobox is not a standalone componentâ€”it's a composition pattern using existing components:
        Popover (container), Button (trigger), Command (search/filter), and optionally Drawer (mobile) or DropdownMenu (submenus).
      </p>
    </div>
  </div>

  <%# Example 1: Basic Framework Selector - ERB %>
  <div class="space-y-4 rounded-lg border p-6">
    <div class="space-y-2">
      <h2 class="text-2xl font-semibold">Basic Framework Selector (ERB)</h2>
      <p class="text-sm text-muted-foreground">
        Select a framework from a list with search functionality.
      </p>
    </div>
    <div class="flex items-center gap-4">
      <%
        frameworks = [
          { value: "next", label: "Next.js" },
          { value: "sveltekit", label: "SvelteKit" },
          { value: "nuxt", label: "Nuxt.js" },
          { value: "remix", label: "Remix" },
          { value: "astro", label: "Astro" }
        ]
      %>
      <%= render UI::Popover.new(
        id: "framework-combobox-erb",
        placement: "bottom-start",
        data: {
          controller: "ui--popover ui--combobox",
          ui__combobox_value_value: ""
        }
      ) do %>
        <%= render UI::PopoverTrigger.new(as_child: true) do |trigger_attrs| %>
          <%= render UI::Button.new(
            **trigger_attrs,
            variant: :outline,
            classes: "w-[200px] justify-between"
          ) do %>
            <span data-ui--combobox-target="text">Select framework...</span>
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="ml-2 h-4 w-4 shrink-0 opacity-50">
              <path d="m7 15 5 5 5-5"/>
              <path d="m7 9 5-5 5 5"/>
            </svg>
          <% end %>
        <% end %>

        <%= render UI::PopoverContent.new(classes: "w-[200px] p-0") do %>
          <%= render UI::Command.new do %>
            <%= render UI::CommandInput.new(placeholder: "Search framework...") %>
            <%= render UI::CommandList.new do %>
              <%= render UI::CommandEmpty.new { "No framework found." } %>
              <%= render UI::CommandGroup.new do %>
                <% frameworks.each do |framework| %>
                  <%= render UI::CommandItem.new(
                    value: framework[:value],
                    data: { ui__combobox_target: "item" }
                  ) do %>
                    <span><%= framework[:label] %></span>
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="ml-auto h-4 w-4 opacity-0">
                      <path d="M20 6 9 17l-5-5"/>
                    </svg>
                  <% end %>
                <% end %>
              <% end %>
            <% end %>
          <% end %>
        <% end %>
      <% end %>
    </div>
  </div>

  <%# Example 2: Basic Framework Selector - Phlex %>
  <div class="space-y-4 rounded-lg border p-6">
    <div class="space-y-2">
      <h2 class="text-2xl font-semibold">Basic Framework Selector (Phlex)</h2>
      <p class="text-sm text-muted-foreground">
        Same functionality using Phlex syntax.
      </p>
    </div>
    <div class="flex items-center gap-4">
      <%
        frameworks = [
          { value: "next", label: "Next.js" },
          { value: "sveltekit", label: "SvelteKit" },
          { value: "nuxt", label: "Nuxt.js" },
          { value: "remix", label: "Remix" },
          { value: "astro", label: "Astro" }
        ]
      %>
      <%= render UI::Popover.new(
        id: "framework-combobox-phlex",
        placement: "bottom-start",
        data: {
          controller: "ui--popover ui--combobox",
          ui__combobox_value_value: ""
        }
      ) do %>
        <%= render UI::PopoverTrigger.new(as_child: true) do |trigger_attrs| %>
          <%= render UI::Button.new(
            **trigger_attrs,
            variant: :outline,
            classes: "w-[200px] justify-between"
          ) do %>
            <span data-ui--combobox-target="text">Select framework...</span>
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="ml-2 h-4 w-4 shrink-0 opacity-50">
              <path d="m7 15 5 5 5-5"/>
              <path d="m7 9 5-5 5 5"/>
            </svg>
          <% end %>
        <% end %>

        <%= render UI::PopoverContent.new(classes: "w-[200px] p-0") do %>
          <%= render UI::Command.new do %>
            <%= render UI::CommandInput.new(placeholder: "Search framework...") %>
            <%= render UI::CommandList.new do %>
              <%= render UI::CommandEmpty.new { "No framework found." } %>
              <%= render UI::CommandGroup.new do %>
                <% frameworks.each do |framework| %>
                  <%= render UI::CommandItem.new(
                    value: framework[:value],
                    data: { ui__combobox_target: "item" }
                  ) do %>
                    <span><%= framework[:label] %></span>
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="ml-auto h-4 w-4 opacity-0">
                      <path d="M20 6 9 17l-5-5"/>
                    </svg>
                  <% end %>
                <% end %>
              <% end %>
            <% end %>
          <% end %>
        <% end %>
      <% end %>
    </div>
  </div>

  <%# Example 3: Basic Framework Selector - ViewComponent %>
  <div class="space-y-4 rounded-lg border p-6">
    <div class="space-y-2">
      <h2 class="text-2xl font-semibold">Basic Framework Selector (ViewComponent)</h2>
      <p class="text-sm text-muted-foreground">
        Same functionality using ViewComponent syntax.
      </p>
    </div>
    <div class="flex items-center gap-4">
      <%
        frameworks = [
          { value: "next", label: "Next.js" },
          { value: "sveltekit", label: "SvelteKit" },
          { value: "nuxt", label: "Nuxt.js" },
          { value: "remix", label: "Remix" },
          { value: "astro", label: "Astro" }
        ]
      %>
      <%= render UI::PopoverComponent.new(
        id: "framework-combobox-vc",
        placement: "bottom-start",
        data: {
          controller: "ui--popover ui--combobox",
          ui__combobox_value_value: ""
        }
      ) do %>
          <%= render UI::PopoverTriggerComponent.new(as_child: true) do %>
            <%= render UI::ButtonComponent.new(
              variant: :outline,
              classes: "w-[200px] justify-between"
            ) do %>
              <span data-ui--combobox-target="text">Select framework...</span>
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="ml-2 h-4 w-4 shrink-0 opacity-50">
                <path d="m7 15 5 5 5-5"/>
                <path d="m7 9 5-5 5 5"/>
              </svg>
            <% end %>
          <% end %>

          <%= render UI::PopoverContentComponent.new(classes: "w-[200px] p-0") do %>
            <%= render UI::CommandComponent.new do %>
              <%= render UI::CommandInputComponent.new(placeholder: "Search framework...") %>
              <%= render UI::CommandListComponent.new do %>
                <%= render(UI::CommandEmptyComponent.new) { "No framework found." } %>
                <%= render UI::CommandGroupComponent.new do %>
                  <% frameworks.each do |framework| %>
                    <%= render UI::CommandItemComponent.new(
                      value: framework[:value],
                      data: { ui__combobox_target: "item" }
                    ) do %>
                      <span><%= framework[:label] %></span>
                      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="ml-auto h-4 w-4 opacity-0">
                        <path d="M20 6 9 17l-5-5"/>
                      </svg>
                    <% end %>
                  <% end %>
                <% end %>
              <% end %>
            <% end %>
          <% end %>
        <% end %>
    </div>
  </div>

  <%# Example 4: Status Selector - ERB %>
  <div class="space-y-4 rounded-lg border p-6">
    <div class="space-y-2">
      <h2 class="text-2xl font-semibold">Status Selector (ERB)</h2>
      <p class="text-sm text-muted-foreground">
        Select a status with visual indicators and icons.
      </p>
    </div>
    <div class="flex items-center gap-4">
      <%
        statuses = [
          { value: "backlog", label: "Backlog", icon: "help-circle" },
          { value: "todo", label: "Todo", icon: "circle" },
          { value: "in-progress", label: "In Progress", icon: "arrow-up-circle" },
          { value: "done", label: "Done", icon: "check-circle" },
          { value: "canceled", label: "Canceled", icon: "x-circle" }
        ]
      %>
      <%= render UI::Popover.new(
        id: "status-combobox-erb",
        placement: "bottom-start",
        data: {
          controller: "ui--popover ui--combobox",
          ui__combobox_value_value: ""
        }
      ) do %>
        <%= render UI::PopoverTrigger.new(as_child: true) do |trigger_attrs| %>
          <%= render UI::Button.new(
            **trigger_attrs,
            variant: :outline,
            classes: "w-[200px] justify-start"
          ) do %>
            <span data-ui--combobox-target="text">+ Set status</span>
          <% end %>
        <% end %>

        <%= render UI::PopoverContent.new(classes: "w-[200px] p-0", align: "start") do %>
          <%= render UI::Command.new do %>
            <%= render UI::CommandInput.new(placeholder: "Change status...") %>
            <%= render UI::CommandList.new do %>
              <%= render UI::CommandEmpty.new { "No results found." } %>
              <%= render UI::CommandGroup.new do %>
                <% statuses.each do |status| %>
                  <%= render UI::CommandItem.new(
                    value: status[:value],
                    data: { ui__combobox_target: "item" }
                  ) do %>
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-2 h-4 w-4">
                      <% if status[:icon] == "help-circle" %>
                        <circle cx="12" cy="12" r="10"/>
                        <path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"/>
                        <path d="M12 17h.01"/>
                      <% elsif status[:icon] == "circle" %>
                        <circle cx="12" cy="12" r="10"/>
                      <% elsif status[:icon] == "arrow-up-circle" %>
                        <circle cx="12" cy="12" r="10"/>
                        <path d="m16 12-4-4-4 4"/>
                        <path d="M12 16V8"/>
                      <% elsif status[:icon] == "check-circle" %>
                        <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/>
                        <path d="m9 11 3 3L22 4"/>
                      <% elsif status[:icon] == "x-circle" %>
                        <circle cx="12" cy="12" r="10"/>
                        <path d="m15 9-6 6"/>
                        <path d="m9 9 6 6"/>
                      <% end %>
                    </svg>
                    <span><%= status[:label] %></span>
                  <% end %>
                <% end %>
              <% end %>
            <% end %>
          <% end %>
        <% end %>
      <% end %>
    </div>
  </div>

  <%# Example 5: Status Selector - Phlex %>
  <div class="space-y-4 rounded-lg border p-6">
    <div class="space-y-2">
      <h2 class="text-2xl font-semibold">Status Selector (Phlex)</h2>
      <p class="text-sm text-muted-foreground">
        Same status selector using Phlex syntax.
      </p>
    </div>
    <div class="flex items-center gap-4">
      <%
        statuses = [
          { value: "backlog", label: "Backlog", icon: "help-circle" },
          { value: "todo", label: "Todo", icon: "circle" },
          { value: "in-progress", label: "In Progress", icon: "arrow-up-circle" },
          { value: "done", label: "Done", icon: "check-circle" },
          { value: "canceled", label: "Canceled", icon: "x-circle" }
        ]
      %>
      <%= render UI::Popover.new(
        placement: "bottom-start",
        data: {
          controller: "ui--popover ui--combobox",
          ui__combobox_value_value: ""
        }
      ) do %>
        <%= render UI::PopoverTrigger.new(as_child: true) do |trigger_attrs| %>
          <%= render UI::Button.new(
            **trigger_attrs,
            variant: :outline,
            classes: "w-[200px] justify-start"
          ) do %>
            <span data-ui--combobox-target="text">+ Set status</span>
          <% end %>
        <% end %>

        <%= render UI::PopoverContent.new(classes: "w-[200px] p-0", align: "start") do %>
          <%= render UI::Command.new do %>
            <%= render UI::CommandInput.new(placeholder: "Change status...") %>
            <%= render UI::CommandList.new do %>
              <%= render UI::CommandEmpty.new { "No results found." } %>
              <%= render UI::CommandGroup.new do %>
                <% statuses.each do |status| %>
                  <%= render UI::CommandItem.new(
                    value: status[:value],
                    data: { ui__combobox_target: "item" }
                  ) do %>
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-2 h-4 w-4">
                      <% if status[:icon] == "help-circle" %>
                        <circle cx="12" cy="12" r="10"/>
                        <path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"/>
                        <path d="M12 17h.01"/>
                      <% elsif status[:icon] == "circle" %>
                        <circle cx="12" cy="12" r="10"/>
                      <% elsif status[:icon] == "arrow-up-circle" %>
                        <circle cx="12" cy="12" r="10"/>
                        <path d="m16 12-4-4-4 4"/>
                        <path d="M12 16V8"/>
                      <% elsif status[:icon] == "check-circle" %>
                        <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/>
                        <path d="m9 11 3 3L22 4"/>
                      <% elsif status[:icon] == "x-circle" %>
                        <circle cx="12" cy="12" r="10"/>
                        <path d="m15 9-6 6"/>
                        <path d="m9 9 6 6"/>
                      <% end %>
                    </svg>
                    <span><%= status[:label] %></span>
                  <% end %>
                <% end %>
              <% end %>
            <% end %>
          <% end %>
        <% end %>
      <% end %>
    </div>
  </div>

  <%# Example 6: Status Selector - ViewComponent %>
  <div class="space-y-4 rounded-lg border p-6">
    <div class="space-y-2">
      <h2 class="text-2xl font-semibold">Status Selector (ViewComponent)</h2>
      <p class="text-sm text-muted-foreground">
        Same status selector using ViewComponent syntax.
      </p>
    </div>
    <div class="flex items-center gap-4">
      <%
        statuses = [
          { value: "backlog", label: "Backlog", icon: "help-circle" },
          { value: "todo", label: "Todo", icon: "circle" },
          { value: "in-progress", label: "In Progress", icon: "arrow-up-circle" },
          { value: "done", label: "Done", icon: "check-circle" },
          { value: "canceled", label: "Canceled", icon: "x-circle" }
        ]
      %>
      <%= render UI::PopoverComponent.new(
        placement: "bottom-start",
        data: {
          controller: "ui--popover ui--combobox",
          ui__combobox_value_value: ""
        }
      ) do %>
          <%= render UI::PopoverTriggerComponent.new(as_child: true) do %>
            <%= render UI::ButtonComponent.new(
              variant: :outline,
              classes: "w-[200px] justify-start"
            ) do %>
              <span data-ui--combobox-target="text">+ Set status</span>
            <% end %>
          <% end %>

          <%= render UI::PopoverContentComponent.new(classes: "w-[200px] p-0", align: "start") do %>
            <%= render UI::CommandComponent.new do %>
              <%= render UI::CommandInputComponent.new(placeholder: "Change status...") %>
              <%= render UI::CommandListComponent.new do %>
                <%= render(UI::CommandEmptyComponent.new) { "No results found." } %>
                <%= render UI::CommandGroupComponent.new do %>
                  <% statuses.each do |status| %>
                    <%= render UI::CommandItemComponent.new(
                      value: status[:value],
                      data: { ui__combobox_target: "item" }
                    ) do %>
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-2 h-4 w-4">
                      <% if status[:icon] == "help-circle" %>
                        <circle cx="12" cy="12" r="10"/>
                        <path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"/>
                        <path d="M12 17h.01"/>
                      <% elsif status[:icon] == "circle" %>
                        <circle cx="12" cy="12" r="10"/>
                      <% elsif status[:icon] == "arrow-up-circle" %>
                        <circle cx="12" cy="12" r="10"/>
                        <path d="m16 12-4-4-4 4"/>
                        <path d="M12 16V8"/>
                      <% elsif status[:icon] == "check-circle" %>
                        <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/>
                        <path d="m9 11 3 3L22 4"/>
                      <% elsif status[:icon] == "x-circle" %>
                        <circle cx="12" cy="12" r="10"/>
                        <path d="m15 9-6 6"/>
                        <path d="m9 9 6 6"/>
                      <% end %>
                    </svg>
                      <span><%= status[:label] %></span>
                    <% end %>
                  <% end %>
                <% end %>
              <% end %>
            <% end %>
          <% end %>
        <% end %>
    </div>
  </div>

  <%# Example 7: Dropdown Menu with Labels - ERB %>
  <div class="space-y-4 rounded-lg border p-6">
    <div class="space-y-2">
      <h2 class="text-2xl font-semibold">Dropdown Menu with Labels (ERB)</h2>
      <p class="text-sm text-muted-foreground">
        Command component nested inside a DropdownMenu submenu for label selection.
      </p>
    </div>
    <div class="flex items-center gap-4">
      <%
        labels = [
          { value: "feature", label: "Feature" },
          { value: "bug", label: "Bug" },
          { value: "enhancement", label: "Enhancement" },
          { value: "documentation", label: "Documentation" }
        ]
      %>
      <%= render UI::DropdownMenu.new(
        id: "labels-combobox-erb",
        data: {
          controller: "ui--dropdown ui--combobox",
          ui__combobox_value_value: ""
        }
      ) do %>
        <%= render UI::DropdownMenuTrigger.new(as_child: true) do |trigger_attrs| %>
          <%= render UI::Button.new(**trigger_attrs, variant: :outline) do %>
            <span data-ui--combobox-target="text">Labels</span>
          <% end %>
        <% end %>

        <%= render UI::DropdownMenuContent.new(classes: "w-56") do %>
          <%= render UI::DropdownMenuLabel.new { "Apply labels" } %>
          <%= render UI::DropdownMenuSeparator.new %>
          <%= render UI::DropdownMenuSub.new do %>
            <%= render UI::DropdownMenuSubTrigger.new do %>
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-2 h-4 w-4">
                <path d="M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z"/>
              </svg>
              <span>Labels</span>
            <% end %>
            <%= render UI::DropdownMenuSubContent.new do %>
              <%= render UI::Command.new do %>
                <%= render UI::CommandInput.new(placeholder: "Search label...") %>
                <%= render UI::CommandList.new do %>
                  <%= render UI::CommandEmpty.new { "No label found." } %>
                  <%= render UI::CommandGroup.new do %>
                    <% labels.each do |label| %>
                      <%= render UI::CommandItem.new(
                        value: label[:value],
                        data: { ui__combobox_target: "item" }
                      ) do %>
                        <span><%= label[:label] %></span>
                      <% end %>
                    <% end %>
                  <% end %>
                <% end %>
              <% end %>
            <% end %>
          <% end %>
        <% end %>
      <% end %>
    </div>
  </div>

  <%# Example 8: Dropdown Menu with Labels - Phlex %>
  <div class="space-y-4 rounded-lg border p-6">
    <div class="space-y-2">
      <h2 class="text-2xl font-semibold">Dropdown Menu with Labels (Phlex)</h2>
      <p class="text-sm text-muted-foreground">
        Same label selection using Phlex syntax.
      </p>
    </div>
    <div class="flex items-center gap-4">
      <%
        labels = [
          { value: "feature", label: "Feature" },
          { value: "bug", label: "Bug" },
          { value: "enhancement", label: "Enhancement" },
          { value: "documentation", label: "Documentation" }
        ]
      %>
      <%= render UI::DropdownMenu.new(
        data: {
          controller: "ui--dropdown ui--combobox",
          ui__combobox_value_value: ""
        }
      ) do %>
        <%= render UI::DropdownMenuTrigger.new(as_child: true) do |trigger_attrs| %>
          <%= render UI::Button.new(**trigger_attrs, variant: :outline) do %>
            <span data-ui--combobox-target="text">Labels</span>
          <% end %>
        <% end %>

        <%= render UI::DropdownMenuContent.new(classes: "w-56") do %>
          <%= render UI::DropdownMenuLabel.new { "Apply labels" } %>
          <%= render UI::DropdownMenuSeparator.new %>
          <%= render UI::DropdownMenuSub.new do %>
            <%= render UI::DropdownMenuSubTrigger.new do %>
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-2 h-4 w-4">
                <path d="M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z"/>
              </svg>
              <span>Labels</span>
            <% end %>
            <%= render UI::DropdownMenuSubContent.new do %>
              <%= render UI::Command.new do %>
                <%= render UI::CommandInput.new(placeholder: "Search label...") %>
                <%= render UI::CommandList.new do %>
                  <%= render UI::CommandEmpty.new { "No label found." } %>
                  <%= render UI::CommandGroup.new do %>
                    <% labels.each do |label| %>
                      <%= render UI::CommandItem.new(
                        value: label[:value],
                        data: { ui__combobox_target: "item" }
                      ) do %>
                        <span><%= label[:label] %></span>
                      <% end %>
                    <% end %>
                  <% end %>
                <% end %>
              <% end %>
            <% end %>
          <% end %>
        <% end %>
      <% end %>
    </div>
  </div>

  <%# Example 9: Dropdown Menu with Labels - ViewComponent %>
  <div class="space-y-4 rounded-lg border p-6">
    <div class="space-y-2">
      <h2 class="text-2xl font-semibold">Dropdown Menu with Labels (ViewComponent)</h2>
      <p class="text-sm text-muted-foreground">
        Same label selection using ViewComponent syntax.
      </p>
    </div>
    <div class="flex items-center gap-4">
      <%
        labels = [
          { value: "feature", label: "Feature" },
          { value: "bug", label: "Bug" },
          { value: "enhancement", label: "Enhancement" },
          { value: "documentation", label: "Documentation" }
        ]
      %>
      <%= render UI::DropdownMenuComponent.new(
        data: {
          controller: "ui--dropdown ui--combobox",
          ui__combobox_value_value: ""
        }
      ) do %>
          <%= render UI::DropdownMenuTriggerComponent.new(as_child: true) do %>
            <%= render UI::ButtonComponent.new(variant: :outline) do %>
              <span data-ui--combobox-target="text">Labels</span>
            <% end %>
          <% end %>

          <%= render UI::DropdownMenuContentComponent.new(classes: "w-56") do %>
            <%= render UI::DropdownMenuLabelComponent.new { "Apply labels" } %>
            <%= render UI::DropdownMenuSeparatorComponent.new %>
            <%= render UI::DropdownMenuSubComponent.new do %>
              <%= render UI::DropdownMenuSubTriggerComponent.new do %>
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-2 h-4 w-4">
                  <path d="M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z"/>
                </svg>
                <span>Labels</span>
              <% end %>
              <%= render UI::DropdownMenuSubContentComponent.new do %>
                <%= render UI::CommandComponent.new do %>
                  <%= render UI::CommandInputComponent.new(placeholder: "Search label...") %>
                  <%= render UI::CommandListComponent.new do %>
                    <%= render UI::CommandEmptyComponent.new { "No label found." } %>
                    <%= render UI::CommandGroupComponent.new do %>
                      <% labels.each do |label| %>
                        <%= render UI::CommandItemComponent.new(
                          value: label[:value],
                          data: { ui__combobox_target: "item" }
                        ) do %>
                          <span><%= label[:label] %></span>
                        <% end %>
                      <% end %>
                    <% end %>
                  <% end %>
                <% end %>
              <% end %>
            <% end %>
          <% end %>
        <% end %>
    </div>
  </div>

  <%# Example 10: Responsive (Popover + Drawer) - ERB %>
  <div class="space-y-4 rounded-lg border p-6">
    <div class="space-y-2">
      <h2 class="text-2xl font-semibold">Responsive (Popover + Drawer) (ERB)</h2>
      <p class="text-sm text-muted-foreground">
        Desktop shows Popover, mobile shows Drawer. Resize browser to see responsive behavior.
      </p>
    </div>
    <div class="flex items-center gap-4">
      <%
        statuses = [
          { value: "backlog", label: "Backlog" },
          { value: "todo", label: "Todo" },
          { value: "in-progress", label: "In Progress" },
          { value: "done", label: "Done" },
          { value: "canceled", label: "Canceled" }
        ]
      %>

      <%# Desktop: Popover %>
      <div class="hidden md:block">
        <%= render "ui/popover", placement: "bottom-start", data: { controller: "ui--popover ui--combobox", ui__combobox_value_value: "" } do %>
          <%= render "ui/popover/trigger", as_child: true do |trigger_attrs| %>
            <%= render "ui/button", **trigger_attrs, variant: :outline, classes: "w-[200px] justify-start" do %>
              <span data-ui--combobox-target="text">+ Set status</span>
            <% end %>
          <% end %>

          <%= render "ui/popover/content", classes: "w-[200px] p-0", align: "start" do %>
            <%= render "ui/command" do %>
              <%= render "ui/command/input", placeholder: "Change status..." %>
              <%= render "ui/command/list" do %>
                <%= render "ui/command/empty" do %>
                  No results found.
                <% end %>
                <%= render "ui/command/group" do %>
                  <% statuses.each do |status| %>
                    <%= render "ui/command/item", value: status[:value], data: { ui__combobox_target: "item" } do %>
                      <span><%= status[:label] %></span>
                    <% end %>
                  <% end %>
                <% end %>
              <% end %>
            <% end %>
          <% end %>
        <% end %>
      </div>

      <%# Mobile: Drawer %>
      <div class="md:hidden" data-controller="ui--combobox" data-ui--combobox-value-value="">
        <%= render "ui/drawer" do %>
          <%= render "ui/drawer/trigger", as_child: true do |trigger_attrs| %>
            <%= render "ui/button", attributes: trigger_attrs, variant: :outline, classes: "w-[200px] justify-start" do %>
              <span data-ui--combobox-target="text">+ Set status</span>
            <% end %>
          <% end %>

          <%= render "ui/drawer/overlay" %>

          <%= render "ui/drawer/content" do %>
            <%= render "ui/drawer/handle" %>

            <%= render "ui/drawer/header" do %>
              <%= render "ui/drawer/title" do %>
                Set Status
              <% end %>
              <%= render "ui/drawer/description" do %>
                Select a status for your task
              <% end %>
            <% end %>

            <div class="p-4">
              <%= render "ui/command" do %>
                <%= render "ui/command/input", placeholder: "Change status..." %>
                <%= render "ui/command/list" do %>
                  <%= render "ui/command/empty" do %>
                    No results found.
                  <% end %>
                  <%= render "ui/command/group" do %>
                    <% statuses.each do |status| %>
                      <%= render "ui/command/item", value: status[:value], data: { ui__combobox_target: "item" } do %>
                        <span><%= status[:label] %></span>
                      <% end %>
                    <% end %>
                  <% end %>
                <% end %>
              <% end %>
            </div>
          <% end %>
        <% end %>
      </div>
    </div>
  </div>

  <%# Example 11: Responsive (Popover + Drawer) - Phlex %>
  <div class="space-y-4 rounded-lg border p-6">
    <div class="space-y-2">
      <h2 class="text-2xl font-semibold">Responsive (Popover + Drawer) (Phlex)</h2>
      <p class="text-sm text-muted-foreground">
        Same responsive behavior using Phlex syntax.
      </p>
    </div>
    <div class="flex items-center gap-4">
      <%
        statuses = [
          { value: "backlog", label: "Backlog" },
          { value: "todo", label: "Todo" },
          { value: "in-progress", label: "In Progress" },
          { value: "done", label: "Done" },
          { value: "canceled", label: "Canceled" }
        ]
      %>

      <%# Desktop: Popover %>
      <div class="hidden md:block">
        <%= render UI::Popover.new(
          placement: "bottom-start",
          data: {
            controller: "ui--popover ui--combobox",
            ui__combobox_value_value: ""
          }
        ) do %>
          <%= render UI::PopoverTrigger.new(as_child: true) do |trigger_attrs| %>
            <%= render UI::Button.new(
              **trigger_attrs,
              variant: :outline,
              classes: "w-[200px] justify-start"
            ) do %>
              <span data-ui--combobox-target="text">+ Set status</span>
            <% end %>
          <% end %>

          <%= render UI::PopoverContent.new(classes: "w-[200px] p-0", align: "start") do %>
            <%= render UI::Command.new do %>
              <%= render UI::CommandInput.new(placeholder: "Change status...") %>
              <%= render UI::CommandList.new do %>
                <%= render UI::CommandEmpty.new { "No results found." } %>
                <%= render UI::CommandGroup.new do %>
                  <% statuses.each do |status| %>
                    <%= render UI::CommandItem.new(
                      value: status[:value],
                      data: { ui__combobox_target: "item" }
                    ) do %>
                      <span><%= status[:label] %></span>
                    <% end %>
                  <% end %>
                <% end %>
              <% end %>
            <% end %>
          <% end %>
        <% end %>
      </div>

      <%# Mobile: Drawer %>
      <div class="md:hidden" data-controller="ui--combobox" data-ui--combobox-value-value="">
        <%= render UI::Drawer.new do %>
          <%= render UI::DrawerTrigger.new(as_child: true) do |trigger_attrs| %>
            <%= render UI::Button.new(
              **trigger_attrs,
              variant: :outline,
              classes: "w-[200px] justify-start"
            ) do %>
              <span data-ui--combobox-target="text">+ Set status</span>
            <% end %>
          <% end %>

          <%= render UI::DrawerOverlay.new %>

          <%= render UI::DrawerContent.new do %>
            <%= render UI::DrawerHandle.new %>

            <%= render UI::DrawerHeader.new do %>
              <%= render UI::DrawerTitle.new { "Set Status" } %>
              <%= render UI::DrawerDescription.new { "Select a status for your task" } %>
            <% end %>

            <div class="p-4">
              <%= render UI::Command.new do %>
                <%= render UI::CommandInput.new(placeholder: "Change status...") %>
                <%= render UI::CommandList.new do %>
                  <%= render UI::CommandEmpty.new { "No results found." } %>
                  <%= render UI::CommandGroup.new do %>
                    <% statuses.each do |status| %>
                      <%= render UI::CommandItem.new(
                        value: status[:value],
                        data: { ui__combobox_target: "item" }
                      ) do %>
                        <span><%= status[:label] %></span>
                      <% end %>
                    <% end %>
                  <% end %>
                <% end %>
              <% end %>
            </div>
          <% end %>
        <% end %>
      </div>
    </div>
  </div>

  <%# Example 12: Responsive (Popover + Drawer) - ViewComponent %>
  <div class="space-y-4 rounded-lg border p-6">
    <div class="space-y-2">
      <h2 class="text-2xl font-semibold">Responsive (Popover + Drawer) (ViewComponent)</h2>
      <p class="text-sm text-muted-foreground">
        Same responsive behavior using ViewComponent syntax.
      </p>
    </div>
    <div class="flex items-center gap-4">
      <%
        statuses = [
          { value: "backlog", label: "Backlog" },
          { value: "todo", label: "Todo" },
          { value: "in-progress", label: "In Progress" },
          { value: "done", label: "Done" },
          { value: "canceled", label: "Canceled" }
        ]
      %>

      <%# Desktop: Popover %>
      <div class="hidden md:block">
        <%= render UI::PopoverComponent.new(
          placement: "bottom-start",
          data: {
            controller: "ui--popover ui--combobox",
            ui__combobox_value_value: ""
          }
        ) do %>
          <%= render UI::PopoverTriggerComponent.new(as_child: true) do %>
            <%= render UI::ButtonComponent.new(
              variant: :outline,
              classes: "w-[200px] justify-start"
            ) do %>
              <span data-ui--combobox-target="text">+ Set status</span>
            <% end %>
          <% end %>

          <%= render UI::PopoverContentComponent.new(classes: "w-[200px] p-0", align: "start") do %>
            <%= render UI::CommandComponent.new do %>
              <%= render UI::CommandInputComponent.new(placeholder: "Change status...") %>
              <%= render UI::CommandListComponent.new do %>
                <%= render UI::CommandEmptyComponent.new { "No results found." } %>
                <%= render UI::CommandGroupComponent.new do %>
                  <% statuses.each do |status| %>
                    <%= render UI::CommandItemComponent.new(
                      value: status[:value],
                      data: { ui__combobox_target: "item" }
                    ) do %>
                      <span><%= status[:label] %></span>
                    <% end %>
                  <% end %>
                <% end %>
              <% end %>
            <% end %>
          <% end %>
        <% end %>
      </div>

      <%# Mobile: Drawer %>
      <div class="md:hidden" data-controller="ui--combobox" data-ui--combobox-value-value="">
        <%= render UI::DrawerComponent.new do %>
          <%= render UI::DrawerTriggerComponent.new(as_child: true) do %>
            <%= render UI::ButtonComponent.new(
              variant: :outline,
              classes: "w-[200px] justify-start"
            ) do %>
              <span data-ui--combobox-target="text">+ Set status</span>
            <% end %>
          <% end %>

          <%= render UI::DrawerOverlayComponent.new %>

          <%= render UI::DrawerContentComponent.new do %>
            <%= render UI::DrawerHandleComponent.new %>

            <%= render UI::DrawerHeaderComponent.new do %>
              <%= render UI::DrawerTitleComponent.new { "Set Status" } %>
              <%= render UI::DrawerDescriptionComponent.new { "Select a status for your task" } %>
            <% end %>

            <div class="p-4">
              <%= render UI::CommandComponent.new do %>
                <%= render UI::CommandInputComponent.new(placeholder: "Change status...") %>
                <%= render UI::CommandListComponent.new do %>
                  <%= render UI::CommandEmptyComponent.new { "No results found." } %>
                  <%= render UI::CommandGroupComponent.new do %>
                    <% statuses.each do |status| %>
                      <%= render UI::CommandItemComponent.new(
                        value: status[:value],
                        data: { ui__combobox_target: "item" }
                      ) do %>
                        <span><%= status[:label] %></span>
                      <% end %>
                    <% end %>
                  <% end %>
                <% end %>
              <% end %>
            </div>
          <% end %>
        <% end %>
      </div>
    </div>
  </div>
</div>
