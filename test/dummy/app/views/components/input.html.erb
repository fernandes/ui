<!DOCTYPE html>
<html>
<head>
  <title>Input Component Showcase</title>
  <%= stylesheet_link_tag "application", "data-turbo-track": "reload" %>
  <%= javascript_importmap_tags %>
</head>
<body class="p-8 bg-background text-foreground">
  <div class="max-w-4xl mx-auto space-y-12">
    <header>
      <h1 class="text-4xl font-bold mb-2">Input Component</h1>
      <p class="text-muted-foreground">Text input field with consistent styling and validation states</p>
    </header>

    <!-- Phlex Implementation -->
    <section class="space-y-4">
      <h2 class="text-2xl font-semibold">Phlex Implementation</h2>
      <div class="grid gap-4 max-w-sm">
        <%= render UI::Input.new(type: "text", placeholder: "Enter text...") %>
        <%= render UI::Input.new(type: "email", placeholder: "john@example.com") %>
        <%= render UI::Input.new(type: "password", placeholder: "Enter password") %>
        <%= render UI::Input.new(type: "text", value: "Pre-filled value") %>
        <%= render UI::Input.new(type: "text", placeholder: "Readonly", readonly: true, value: "Read-only value") %>
      </div>
    </section>

    <!-- ViewComponent Implementation -->
    <section class="space-y-4">
      <h2 class="text-2xl font-semibold">ViewComponent Implementation</h2>
      <div class="grid gap-4 max-w-sm">
        <%= render UI::InputComponent.new(type: "text", placeholder: "Enter text...") %>
        <%= render UI::InputComponent.new(type: "email", placeholder: "john@example.com") %>
        <%= render UI::InputComponent.new(type: "password", placeholder: "Enter password") %>
        <%= render UI::InputComponent.new(type: "number", placeholder: "Enter number") %>
        <%= render UI::InputComponent.new(type: "date") %>
      </div>
    </section>

    <!-- ERB Partial Implementation -->
    <section class="space-y-4">
      <h2 class="text-2xl font-semibold">ERB Partial Implementation</h2>
      <div class="grid gap-4 max-w-sm">
        <%= render "ui/input", type: "text", placeholder: "Enter text..." %>
        <%= render "ui/input", type: "search", placeholder: "Search..." %>
        <%= render "ui/input", type: "tel", placeholder: "Phone number" %>
        <%= render "ui/input", type: "url", placeholder: "https://example.com" %>
      </div>
    </section>

    <!-- With Label -->
    <section class="space-y-4">
      <h2 class="text-2xl font-semibold">With Label (Phlex)</h2>
      <div class="grid gap-6 max-w-sm">
        <div class="grid w-full max-w-sm items-center gap-1.5">
          <%= render UI::Label.new(for: "email") { "Email" } %>
          <%= render UI::Input.new(
            type: "email",
            id: "email",
            placeholder: "Email"
          ) %>
        </div>
        <div class="grid w-full max-w-sm items-center gap-1.5">
          <%= render UI::Label.new(for: "username") { "Username" } %>
          <%= render UI::Input.new(
            type: "text",
            id: "username",
            placeholder: "Username"
          ) %>
          <p class="text-sm text-muted-foreground">
            This is your public display name.
          </p>
        </div>
      </div>
    </section>

    <!-- Validation States -->
    <section class="space-y-4">
      <h2 class="text-2xl font-semibold">Validation States (ViewComponent)</h2>
      <div class="grid gap-4 max-w-sm">
        <div>
          <label class="text-sm font-medium mb-2 block">Valid Input</label>
          <%= render UI::InputComponent.new(
            type: "email",
            placeholder: "valid@example.com",
            value: "valid@example.com"
          ) %>
        </div>
        <div>
          <label class="text-sm font-medium mb-2 block">Invalid Input</label>
          <%= render UI::InputComponent.new(
            type: "email",
            placeholder: "Email",
            value: "invalid-email",
            "aria-invalid": "true"
          ) %>
          <p class="text-sm text-destructive mt-1">Please enter a valid email address.</p>
        </div>
      </div>
    </section>

    <!-- Custom Styling -->
    <section class="space-y-4">
      <h2 class="text-2xl font-semibold">Custom Styling (ERB)</h2>
      <div class="grid gap-4">
        <%= render "ui/input", type: "text", placeholder: "Full width", classes: "w-full" %>
        <%= render "ui/input", type: "text", placeholder: "Max width 300px", classes: "max-w-[300px]" %>
      </div>
    </section>

    <!-- Form Example -->
    <section class="space-y-4">
      <h2 class="text-2xl font-semibold">Form Example (Phlex)</h2>
      <form class="grid gap-4 max-w-sm">
        <div class="grid gap-2">
          <%= render UI::Label.new(for: "first-name") { "First name" } %>
          <%= render UI::Input.new(id: "first-name", type: "text", placeholder: "John") %>
        </div>
        <div class="grid gap-2">
          <%= render UI::Label.new(for: "last-name") { "Last name" } %>
          <%= render UI::Input.new(id: "last-name", type: "text", placeholder: "Doe") %>
        </div>
        <div class="grid gap-2">
          <%= render UI::Label.new(for: "form-email") { "Email" } %>
          <%= render UI::Input.new(id: "form-email", type: "email", placeholder: "john@example.com") %>
        </div>
        <%= render UI::Button.new(type: "submit") { "Submit" } %>
      </form>
    </section>

    <!-- Navigation -->
    <footer class="pt-8 border-t">
      <%= link_to "â† Back to Components", components_path, class: "text-sm text-muted-foreground hover:text-foreground" %>
    </footer>
  </div>
</body>
</html>
